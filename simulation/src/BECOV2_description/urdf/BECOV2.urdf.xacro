<?xml version="1.0"?>
<robot xmlns:xacro="http://ros.org/wiki/xacro" name="my_robot">

  <!-- LEFT BODY (base link) -->
  <link name="left_body_link">
    <visual>
      <geometry><mesh filename="../meshes/LEFTBODY.stl" scale="0.001 0.001 0.001"/></geometry>
    </visual>
    <collision>
      <geometry><mesh filename="../meshes/LEFTBODY.stl" scale="0.001 0.001 0.001"/></geometry>
    </collision>
  </link>

  <!-- RIGHT BODY (fixed to left) -->
  <link name="right_body_link">
    <visual>
      <geometry><mesh filename="../meshes/RIGHTBODY.stl" scale="0.001 0.001 0.001"/></geometry>
    </visual>
  </link>

  <joint name="fixed_body_joint" type="fixed">
    <parent link="left_body_link"/>
    <child link="right_body_link"/>
    <origin xyz="0.06 0 0"/> <!-- adjust based on real spacing -->
  </joint>

  <!-- SHAFT -->
  <link name="shaft_link">
    <visual>
      <geometry><mesh filename="../meshes/SHAFT.stl" scale="0.001 0.001 0.001"/></geometry>
    </visual>
  </link>

  <joint name="shaft_joint" type="revolute">
    <parent link="left_body_link"/>
    <child link="shaft_link"/>
    <origin xyz="0 0 0"/> <!-- adjust this -->
    <axis xyz="0 0 1"/>
    <limit lower="-3.14" upper="3.14" effort="1" velocity="1"/>
  </joint>

  <!-- ROTATER -->
  <link name="rotater_link">
    <visual>
      <geometry><mesh filename="../meshes/ROTATER.stl" scale="0.001 0.001 0.001"/></geometry>
    </visual>
  </link>

  <joint name="rotater_joint" type="fixed">
    <parent link="shaft_link"/>
    <child link="rotater_link"/>
    <origin xyz="0 0 0"/>
  </joint>

  <!-- GEAR (visual only or mimic) -->
  <link name="gear_link">
    <visual>
      <geometry><mesh filename="../meshes/SELFMADEGEAR.stl" scale="0.001 0.001 0.001"/></geometry>
    </visual>
  </link>

  <joint name="gear_joint" type="mimic">
    <parent link="shaft_link"/>
    <child link="gear_link"/>
    <origin xyz="0 0 0"/>
    <mimic joint="shaft_joint" multiplier="-1"/>
  </joint>

</robot>
